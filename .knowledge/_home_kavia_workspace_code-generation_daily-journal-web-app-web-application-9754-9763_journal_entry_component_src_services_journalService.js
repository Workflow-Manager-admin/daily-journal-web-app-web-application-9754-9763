{"is_source_file": true, "format": "JavaScript", "description": "This file provides a service layer for managing journal entries, including CRUD operations, search, filtering, sorting, and data persistence using localStorage. It interfaces with JournalEntry model functions for creating and validating entries and offers utility functions for data export/import and storage checks.", "external_files": ["../models/JournalEntry"], "external_methods": ["JournalEntry", "createJournalEntry", "validateJournalEntryData"], "published": ["getAllEntries", "getEntryById", "createEntry", "updateEntry", "deleteEntry", "searchEntries", "filterEntries", "sortEntries", "clearAllEntries", "isStorageAvailable", "exportEntries", "importEntries"], "classes": [], "methods": [{"name": "getEntriesFromStorage", "description": "Retrieves all journal entries from localStorage, parsing JSON and converting data into JournalEntry instances, with error handling."}, {"name": "saveEntriesToStorage", "description": "Saves an array of JournalEntry instances to localStorage after serializing them to JSON."}, {"name": "getAllEntries", "description": "Public function that returns all journal entries by calling getEntriesFromStorage."}, {"name": "getEntryById", "description": "Retrieves a journal entry by its ID from storage, returning null if not found."}, {"name": "createEntry", "description": "Validates and creates a new journal entry, then saves it to localStorage, returning the created entry and any validation or storage errors."}, {"name": "updateEntry", "description": "Updates an existing journal entry identified by ID with new data, validates, and saves changes to storage."}, {"name": "deleteEntry", "description": "Deletes a journal entry by ID from storage, handling errors if entry is not found or storage fails."}, {"name": "searchEntries", "description": "Searches journal entries by a query string across title, content, mood, and tags fields, case-insensitive."}, {"name": "filterEntries", "description": "Filters journal entries based on a provided filter function."}, {"name": "sortEntries", "description": "Sorts journal entries by specified field and direction, handling various data types."}, {"name": "clearAllEntries", "description": "Removes all journal entries from localStorage."}, {"name": "isStorageAvailable", "description": "Checks if localStorage is available and functional in the current environment."}, {"name": "exportEntries", "description": "Exports all journal entries as a JSON string for backup or transfer."}, {"name": "importEntries", "description": "Imports journal entries from a JSON string, optionally replacing existing data, ensuring no duplicate IDs."}], "search-terms": ["journalService", "localStorage CRUD", "JournalEntry model", "storage key", "import/export journal entries", "search journal", "filter journal", "sort journal", "CRUD operations journal"], "state": 2, "file_id": 104, "knowledge_revision": 367, "git_revision": "b34af228d11d82affd6977121527d0c74366be7c", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^const STORAGE_KEY = 'journal_entries';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearAllEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const clearAllEntries = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "combinedEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const combinedEntries = [...existingEntries, ...uniqueImportedEntries];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createEntry", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const createEntry = (entryData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteEntry", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const deleteEntry = (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entries = getEntriesFromStorage();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const entries = Array.isArray(entriesToSort) ? entriesToSort : getEntriesFromStorage();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const entries = getEntriesFromStorage();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entriesData", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entriesData = JSON.parse(entriesJson);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entriesData", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entriesData = entries.map(entry => entry.toObject());$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entriesJson", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entriesJson = localStorage.getItem(STORAGE_KEY);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const entry = entries.find(entry => entry.id === id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entryIndex", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entryIndex = entries.findIndex(entry => entry.id === id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "existingEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const existingEntries = replace ? [] : getEntriesFromStorage();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "existingIds", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const existingIds = new Set(existingEntries.map(entry => entry.id));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exportEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const exportEntries = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "filterEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const filterEntries = (filterFn) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const getAllEntries = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getEntriesFromStorage", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^const getEntriesFromStorage = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getEntryById", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const getEntryById = (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "importEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const importEntries = (jsonString, replace = false) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "importedData", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const importedData = JSON.parse(jsonString);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "importedEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const importedEntries = importedData.map(data => new JournalEntry(data));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isStorageAvailable", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const isStorageAvailable = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newEntry", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const newEntry = createJournalEntry(entryData);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "normalizedQuery", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const normalizedQuery = query.toLowerCase().trim();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveEntriesToStorage", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^const saveEntriesToStorage = (entries) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const saved = saveEntriesToStorage(combinedEntries);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const saved = saveEntriesToStorage(entries);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "searchEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const searchEntries = (query) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sortEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const sortEntries = (entriesToSort, field, direction = 'desc') => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sortedEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const sortedEntries = [...entries];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "testKey", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const testKey = '__storage_test__';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "uniqueImportedEntries", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const uniqueImportedEntries = importedEntries.filter(entry => !existingIds.has(entry.id));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateEntry", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const updateEntry = (id, entryData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedEntry", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const updatedEntry = entries[entryIndex].update(entryData);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validation", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const validation = validateJournalEntryData(entryData);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validation", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const validation = validateJournalEntryData({$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "hash": "ac8902cb5f1b15e1a1c1df0c3c0ef113", "format-version": 4, "code-base-name": "default", "revision_history": [{"367": "b34af228d11d82affd6977121527d0c74366be7c"}]}