{"is_source_file": true, "format": "JavaScript", "description": "Journal service that provides CRUD operations for journal entries and handles data persistence using localStorage.", "external_files": ["../models/JournalEntry"], "external_methods": ["createJournalEntry", "validateJournalEntryData"], "published": ["getAllEntries", "getEntryById", "createEntry", "updateEntry", "deleteEntry", "searchEntries", "filterEntries", "sortEntries", "clearAllEntries", "isStorageAvailable", "exportEntries", "importEntries"], "classes": [], "methods": [{"name": "getEntriesFromStorage", "description": "Helper function to get all entries from localStorage."}, {"name": "saveEntriesToStorage", "description": "Helper function to save entries to localStorage."}, {"name": "createEntry", "description": "Create a new journal entry."}, {"name": "updateEntry", "description": "Update an existing journal entry."}, {"name": "deleteEntry", "description": "Delete a journal entry."}, {"name": "searchEntries", "description": "Search for journal entries by title or content."}, {"name": "filterEntries", "description": "Filter journal entries by a custom filter function."}, {"name": "sortEntries", "description": "Sort journal entries by a specified field and direction."}, {"name": "clearAllEntries", "description": "Clear all journal entries from storage."}, {"name": "isStorageAvailable", "description": "Check if localStorage is available in the current environment."}, {"name": "exportEntries", "description": "Export entries to JSON string for backup purposes."}, {"name": "importEntries", "description": "Import entries from JSON string."}], "calls": ["localStorage.getItem", "localStorage.setItem", "JSON.parse", "JSON.stringify", "localStorage.removeItem"], "search-terms": ["journalService", "CRUD operations", "localStorage"], "state": 2, "file_id": 20, "knowledge_revision": 105, "git_revision": "2118a5b885fbac064013ab5c86ef30e7895d164b", "revision_history": [{"41": "2118a5b885fbac064013ab5c86ef30e7895d164b"}, {"103": "2118a5b885fbac064013ab5c86ef30e7895d164b"}, {"105": "2118a5b885fbac064013ab5c86ef30e7895d164b"}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^const STORAGE_KEY = 'journal_entries';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearAllEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const clearAllEntries = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "combinedEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const combinedEntries = [...existingEntries, ...uniqueImportedEntries];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createEntry", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const createEntry = (entryData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteEntry", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const deleteEntry = (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entries = getEntriesFromStorage();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const entries = Array.isArray(entriesToSort) ? entriesToSort : getEntriesFromStorage();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const entries = getEntriesFromStorage();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entriesData", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entriesData = JSON.parse(entriesJson);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entriesData", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entriesData = entries.map(entry => entry.toObject());$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entriesJson", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entriesJson = localStorage.getItem(STORAGE_KEY);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const entry = entries.find(entry => entry.id === id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "entryIndex", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const entryIndex = entries.findIndex(entry => entry.id === id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "existingEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const existingEntries = replace ? [] : getEntriesFromStorage();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "existingIds", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const existingIds = new Set(existingEntries.map(entry => entry.id));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exportEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const exportEntries = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "filterEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const filterEntries = (filterFn) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const getAllEntries = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getEntriesFromStorage", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^const getEntriesFromStorage = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getEntryById", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const getEntryById = (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "importEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const importEntries = (jsonString, replace = false) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "importedData", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const importedData = JSON.parse(jsonString);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "importedEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const importedEntries = importedData.map(data => new JournalEntry(data));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isStorageAvailable", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const isStorageAvailable = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newEntry", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const newEntry = createJournalEntry(entryData);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "normalizedQuery", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const normalizedQuery = query.toLowerCase().trim();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveEntriesToStorage", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^const saveEntriesToStorage = (entries) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const saved = saveEntriesToStorage(combinedEntries);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const saved = saveEntriesToStorage(entries);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "searchEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const searchEntries = (query) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sortEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const sortEntries = (entriesToSort, field, direction = 'desc') => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sortedEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const sortedEntries = [...entries];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "testKey", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const testKey = '__storage_test__';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "uniqueImportedEntries", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const uniqueImportedEntries = importedEntries.filter(entry => !existingIds.has(entry.id));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateEntry", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^export const updateEntry = (id, entryData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedEntry", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^    const updatedEntry = entries[entryIndex].update(entryData);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validation", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const validation = validateJournalEntryData(entryData);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validation", "path": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "pattern": "/^  const validation = validateJournalEntryData({$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/journalService.js", "hash": "ac8902cb5f1b15e1a1c1df0c3c0ef113", "format-version": 4, "code-base-name": "default"}