{"is_source_file": true, "format": "JavaScript", "description": "This file defines a WebSocketService class that manages WebSocket connections including setup, message handling, reconnection logic, and callback management. It facilitates communication with a server via WebSocket with features like automatic reconnection and status notifications.", "external_files": [], "external_methods": [], "published": ["connect", "sendMessage", "onMessage", "removeMessageCallback", "onStatusChange", "removeStatusCallback", "getConnectionStatus", "disconnect"], "classes": [{"name": "WebSocketService", "description": "A class that provides WebSocket connection handling with automatic reconnection, message processing, and status notifications."}], "methods": [{"name": "constructor(url)", "description": "Initializes the WebSocketService instance with configuration options such as URL and protocols.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "connect()", "description": "Establishes the WebSocket connection and sets up event handlers.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "setupEventHandlers()", "description": "Configures WebSocket event handlers for open, close, error, and message events.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "handleReconnection()", "description": "Implements exponential backoff logic for reconnection attempts when the connection is lost.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "sendMessage(message)", "description": "Sends a JSON-serialized message through the WebSocket if connected.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "onMessage(callback)", "description": "Registers a callback to be invoked when a message is received.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "removeMessageCallback(callback)", "description": "Removes a previously registered message callback.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "onStatusChange(callback)", "description": "Registers a callback to be invoked when connection status changes.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "removeStatusCallback(callback)", "description": "Removes a previously registered status change callback.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "notifyMessageReceived(message)", "description": "Invokes all registered message callbacks with the received message.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "notifyStatusChange(isConnected)", "description": "Invokes all registered status callbacks with the connection status.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "getConnectionStatus()", "description": "Returns the current WebSocket connection status.", "scope": "WebSocketService", "scopeKind": "class"}, {"name": "disconnect()", "description": "Closes the WebSocket connection and clears callback sets.", "scope": "WebSocketService", "scopeKind": "class"}], "calls": ["JSON.parse", "setTimeout", "WebSocket", "console.error", "console.log"], "search-terms": ["WebSocketService", "automatic reconnection", "connection handling", "WebSocket message", "WebSocket status", "callback management"], "state": 2, "file_id": 105, "knowledge_revision": 366, "git_revision": "b34af228d11d82affd6977121527d0c74366be7c", "ctags": [{"_type": "tag", "name": "WebSocketService", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^class WebSocketService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    connect() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    constructor(url) {$/", "language": "JavaScript", "kind": "method", "signature": "(url)", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "disconnect", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    disconnect() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "getConnectionStatus", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    getConnectionStatus() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "handleReconnection", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    handleReconnection() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "notifyMessageReceived", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    notifyMessageReceived(message) {$/", "language": "JavaScript", "kind": "method", "signature": "(message)", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "notifyStatusChange", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    notifyStatusChange(isConnected) {$/", "language": "JavaScript", "kind": "method", "signature": "(isConnected)", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "onMessage", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    onMessage(callback) {$/", "language": "JavaScript", "kind": "method", "signature": "(callback)", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "onStatusChange", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    onStatusChange(callback) {$/", "language": "JavaScript", "kind": "method", "signature": "(callback)", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "removeMessageCallback", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    removeMessageCallback(callback) {$/", "language": "JavaScript", "kind": "method", "signature": "(callback)", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "removeStatusCallback", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    removeStatusCallback(callback) {$/", "language": "JavaScript", "kind": "method", "signature": "(callback)", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "sendMessage", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    sendMessage(message) {$/", "language": "JavaScript", "kind": "method", "signature": "(message)", "scope": "WebSocketService", "scopeKind": "class"}, {"_type": "tag", "name": "setupEventHandlers", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "pattern": "/^    setupEventHandlers() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebSocketService", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/src/services/WebSocketService.js", "hash": "47b5af794f593a8a52fae098d596a060", "format-version": 4, "code-base-name": "default", "revision_history": [{"366": "b34af228d11d82affd6977121527d0c74366be7c"}]}