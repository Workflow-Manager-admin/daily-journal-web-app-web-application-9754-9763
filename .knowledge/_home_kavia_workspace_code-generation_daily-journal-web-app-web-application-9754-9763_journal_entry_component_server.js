{"is_source_file": true, "format": "JavaScript", "description": "This file sets up an Express server integrated with a WebSocket server using the 'ws' library. It handles WebSocket connections, processes specific message types like 'SAVE_ENTRY' and 'GET_ENTRIES', and provides a health check endpoint.", "external_files": ["ws", "express", "cors", "http"], "external_methods": ["require('http').createServer", "WebSocket.Server"], "published": [], "classes": [], "methods": [{"name": "app.use", "description": "Registers middleware, including error handling middleware and CORS configuration."}, {"name": "wss.on", "description": "Sets up event listener for new WebSocket connections."}, {"name": "ws.on", "description": "Handles incoming messages and disconnections from clients."}, {"name": "server.listen", "description": "Starts the HTTP server on specified port."}, {"name": "connection(ws, req)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "incoming(message)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["require('http').createServer", "WebSocket.Server", "app.use", "wss.on", "ws.on", "ws.send", "JSON.parse", "JSON.stringify", "res.json", "server.listen"], "search-terms": ["WebSocket server setup", "Express middleware", "WebSocket message handling", "CORS configuration", "Health check endpoint", "Server initialization"], "state": 2, "file_id": 73, "knowledge_revision": 341, "git_revision": "b34af228d11d82affd6977121527d0c74366be7c", "ctags": [{"_type": "tag", "name": "PORT", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^const PORT = process.env.PORT || 8080;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "WebSocket", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^const WebSocket = require('ws');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^const app = express();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "connection", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^wss.on('connection', function connection(ws, req) {$/", "language": "JavaScript", "kind": "function", "signature": "(ws, req)"}, {"_type": "tag", "name": "cors", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^const cors = require('cors');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "incoming", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^    ws.on('message', function incoming(message) {$/", "language": "JavaScript", "kind": "function", "signature": "(message)"}, {"_type": "tag", "name": "server", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^const server = require('http').createServer(app);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "wss", "path": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "pattern": "/^const wss = new WebSocket.Server({ $/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/daily-journal-web-app-web-application-9754-9763/journal_entry_component/server.js", "hash": "d593d72c0948d610d651756d43e3701d", "format-version": 4, "code-base-name": "default", "revision_history": [{"341": "b34af228d11d82affd6977121527d0c74366be7c"}]}